
<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="http://a.tbcdn.cn/p/global/1.0/global-min.css" />
<style>
#demo1{
  width:750px;
  height:300px;
  margin:0px auto;
}
#demo1 .ks-charts-legend ul li{
  float: left;  
  padding: 10px;
}
#demo1 .ks-charts-legend .disable{
  color:#ccc;
}
#demo1 .ks-charts-legend .legend-text{
  padding-left: 5px;
}
</style>
</head>
<body>
<div id="demo1">

</div>
<a id="add">点我加增加一条线</a>
<script charset="utf-8" src="http://g.tbcdn.cn/kissy/k/1.4.1/seed-min.js"></script>
<script type="text/javascript">
// KISSY.Config.combine = true;
KISSY.use("gallery/kcharts/1.3/linechart/index,node,event",function(S,LineChart){
  var $ = KISSY.all;
  var linechart = new LineChart({
      renderTo:"#demo1",
      autoRender:false,
            anim:{},
            lineType:"arc",
       xAxis: {
        text:[1,2,3,4,5,6,7]
          },
            yAxis:{
              num:15
            },
          comparable:true,
      series:[{
        "data":[892,1159,1182,2822,1220,1387,1253]
        ,"text":"domContentLoaded"},
        {"data":[5312,5887,5683,7199,5498,4540,5714],
        "text":"onload"}
            ],
      legend:{
        isShow:true,
        css:{
          marginLeft:250,
          marginTop:330
        }
      },
      tip:{
        offset:{
                    x:10,
                    y:10
                },
        template:function(e){
          var html = "";
          for(var i in e.datas){
            html +="<span style='font-size:10px;color:"+e.datas[i]['color']+"'>"+e.datas[i]['text'] +": "+e.datas[i]['y']+" ms<br/>"
          }
          return html;
        }
      }
  });

  linechart.render();

  function randomData(){
    var data = [];
    for(var i = 0;i<7;i++){
      data.push(Math.round(Math.random()*10000));
    }
    return {text:new Date().getTime(),data:data};
  }

  $("#add").on("click",function(){
    // delete linechart._cfg.anim;
    // linechart._cfg.series.push( randomData());
    // linechart.init(true);
    linechart.getConfig()['series'].push(randomData());
    linechart.setConfig({anim:""});
    linechart.render();
  })



});</script>
</body>
</html>